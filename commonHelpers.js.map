{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n\n  const API_KEY = '45097804-c04896a24774ae5ff52198fb8';\n  const URL = 'https://pixabay.com/api/';\n\n    return fetch(`${URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`).then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Fetching error:', error);\n      throw error;\n    });\n  }\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst loadingIndicator = document.getElementById('loader');\nconst gallery = document.getElementById('image-gallery');\n\nlet lightbox;\n\nexport function renderImages(images) {\n  if (!gallery) {\n    return;\n   }\n  gallery.innerHTML = '';\n\n const imageItems = images.map(image => `\n      <div class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\"/>\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n          <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n          <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n          <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </div>\n    `).join('');\n  \n  gallery.innerHTML = imageItems;\n\n  if (lightbox) {\n    lightbox.destroy(); ;\n  }\n   lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250\n   });\n  \n    lightbox.refresh();\n}\n\nexport function showError(errorMessage) {\n  iziToast.error({\n    title: 'Error',\n    message: errorMessage,\n    position: 'topRight'\n  });\n}\n\nexport function showLoading() {\n    loadingIndicator.style.display = 'block';\n}\n\nexport function hideLoading() {\n    loadingIndicator.style.display = 'none';\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, showError, showLoading, hideLoading } from './js/render-functions.js';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst gallery = document.getElementById('image-gallery');\n\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (query === '') {\n    showError('Please enter a search term.');\n    return;\n  }\n  \n  showLoading();\n\n  fetchImages(query).then(images => {\n    if (images.length === 0) {\n       gallery.innerHTML = \"\";\n      showError('Sorry, there are no images matching your search query. Please try again!');\n       \n    } else {\n      renderImages(images);\n    }\n  }).catch(error => {\n    showError('An error occurred while fetching images. Please try again later.');\n  })\n    .finally(() => {\n      hideLoading();\n  });\n}\n\n"],"names":["fetchImages","query","response","data","error","loadingIndicator","gallery","lightbox","renderImages","images","imageItems","image","SimpleLightbox","showError","errorMessage","iziToast","showLoading","hideLoading","form","input","handleSearch","event"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAK/B,OAAO,MAAM,qEAA2B,mBAAmBA,CAAK,CAAC,0DAA0D,EAAE,KAAMC,GAAa,CAC9I,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,kBAAmBA,CAAK,EAChCA,CACZ,CAAK,CACL,CCVA,MAAMC,EAAmB,SAAS,eAAe,QAAQ,EACnDC,EAAU,SAAS,eAAe,eAAe,EAEvD,IAAIC,EAEG,SAASC,EAAaC,EAAQ,CACnC,GAAI,CAACH,EACH,OAEFA,EAAQ,UAAY,GAErB,MAAMI,EAAaD,EAAO,IAAIE,GAAS;AAAA;AAAA,mBAErBA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,+CAGbA,EAAM,KAAK;AAAA,+CACXA,EAAM,KAAK;AAAA,kDACRA,EAAM,QAAQ;AAAA,mDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG7D,EAAE,KAAK,EAAE,EAEZL,EAAQ,UAAYI,EAEhBH,GACFA,EAAS,QAAO,EAEjBA,EAAW,IAAIK,EAAe,gBAAiB,CAC1C,aAAc,MACd,aAAc,GACtB,CAAI,EAEAL,EAAS,QAAO,CACpB,CAEO,SAASM,EAAUC,EAAc,CACtCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEO,SAASE,GAAc,CAC1BX,EAAiB,MAAM,QAAU,OACrC,CAEO,SAASY,GAAc,CAC1BZ,EAAiB,MAAM,QAAU,MACrC,CCvDA,MAAMa,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9Cb,EAAU,SAAS,eAAe,eAAe,EAEvDY,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMpB,EAAQkB,EAAM,MAAM,KAAI,EAC9B,GAAIlB,IAAU,GAAI,CAChBY,EAAU,6BAA6B,EACvC,MACD,CAEDG,IAEAhB,EAAYC,CAAK,EAAE,KAAKQ,GAAU,CAC5BA,EAAO,SAAW,GACnBH,EAAQ,UAAY,GACrBO,EAAU,0EAA0E,GAGpFL,EAAaC,CAAM,CAEzB,CAAG,EAAE,MAAML,GAAS,CAChBS,EAAU,kEAAkE,CAChF,CAAG,EACE,QAAQ,IAAM,CACbI,GACN,CAAG,CACH"}